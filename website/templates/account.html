{% extends "base.html" %}
{% block content %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<style>
  html {
    height: 100%;
  }
  body{
    background: rgb(46,48,46);
    min-height: 100%;
  }
  .hide {
      display: none;
  }
  .menu {
    margin-top: 50px;
    list-style: none;

  }
  #pages {
    min-height: 100%;
    color: black;
  }
  .container{
    margin-top: 50px;
    height: 100%;

  }
  .menu li{
    display: inline-block;
    padding-left: 10px;
  }
  .row {
    background: white;
    border-radius: 30px;
    box-shadow: 12px 12px 22px grey;
  }
  #footer {
    right: 0px; bottom: 0px; left: 0px;
    width: 100%;
    height: 218px;
  }
  section{
    padding-bottom: 218px;
  }
</style>
<section>
<!-- For flash messages -->


  <!-- Main profile menu -->
<div class="container">
  <ul class="menu" id="menu" >
    <li><a data-page="myReviews" href="#"><h3>  My Reviews  </h3> </a></li>
    <li><a data-page="myWhitelist" href="#"><h3>  Whitelist  </h3> </a></li>
    <li><a data-page="myBlacklist" href="#"><h3>  Blacklist  </h3> </a></li>
    <li><a data-page="mySettings" href="#"><h3>  Settings  </h3> </a></li>
</ul>

<!-- Each menu link, with filler text  -->
<div id="pages">
    <div id="myReviews" class="page" data-page="myReviews">
        <div class="row">
            <div class="col-12 pt-5">
                <h1> My Reviews </h1>
                <p> Wall-E: "Another out-of-this-world Pixar picture. And this time that label applies to the setting, too, as a lonely little robot named WALL-E finds and follows the lovely EVE across the universe." </p>
            </div>
        </div>
    </div>
    <div id="myWhitelist" class="page hide" data-page="myWhitelist">
        <div class="row">
            <div class="col-12 pt-5">
                <h1> Whitelisted Films </h1>
                <p> Up, Avengers: End Game, Cars 3 </p>
            </div>
        </div>
    </div>
    <div id="myBlacklist" class="page hide" data-page="myBlacklist">
        <div class="row">
            <div class="col-12 pt-5">
                <h1> Blacklisted Films </h1>
                <p> Vampire Man, Scary Movie </p>
            </div>
        </div>
    </div>
    <div id="mySettings"  class="page hide" data-page="mySettings">
        <div class="row">
            <div class="col-12 pt-5">
                <h1> Settings </h1>
                <p> Username: {{current_user.username}}</p>
                <p> Display name: {{current_user.display_name}}</p>


              <!-- Change Password-->
                <div id="changeP" data-page="changeP">
                    <div class="row-4">
                        <div class="col-12 pt-10">
                          <h4> Change Password </h4>
                            <form class="form-signin" method="POST" action="">
                              {{ form2.hidden_tag() }}

                                        <!-- password input field -->
                                <div class="form-row">
                                  <div class="col-lg-8">
                                    <fieldset class="form-group">
                                    <div class="input-field">
                                        {{ form2.new_password.label}}
                                        {% if form2.new_password.errors %}
                                            {{ form2.new_password }}
                                            <div class="invalid-feedback">
                                              {% for error in form2.new_password.errors %}
                                                  <span> {{ error }} </span>
                                              {% endfor %}
                                            </div>
                                        {% else %}
                                        {{ form2.new_password}}
                                        {% endif %}
                                    </div>
                                </div>
                              </div>
                              <div class="form-row">
                                <div class="col-lg-8">
                                  <div >
                                    {{ form2.submit_change_p (class="submit-btn mt-3 mb-5")}}
                                  </div>
                                </div>
                              </div>
                            </form>
                        </div>
                    </div>
                </div>
                <!-- Change Security Questions Answers -->
                <div style="position:relative; float:right; top:-225px;"id="changeQ" data-page="changeQ">
                    <div class="row-4">
                        <div class="col-12 pt-5">
                          <h4> Change Security Questions </h4>
                          <form class="form-signin" method="POST" action="">
                            {{ form1.hidden_tag() }}
                          <div class="form-row">
                            <div class="col-lg-8">
                              <fieldset class="form-group">
                              <div class="input-field">
                                  {{ form1.question_1.label}}
                                  {% if form1.question_1.errors %}
                                      {{ form1.question_1 }}
                                      <div class="invalid-feedback">
                                        {% for error in form1.question_1.errors %}
                                            <span> {{ error}} </span>
                                        {% endfor %}
                                      </div>
                                      {% else %}
                                        {{ form1.question_1}}
                                        {% endif %}
                                      </div>
                              </div>
                          </div>
                              <div class="form-row">
                                <div class="col-lg-8">
                                  <fieldset class="form-group">
                                  <div class="input-field">
                                      {{ form1.question_2.label}}
                                      {% if form1.question_2.errors %}
                                          {{ form1.question_2 }}
                                          <div class="invalid-feedback">
                                            {% for error in form1.question_2.errors %}
                                                <span> {{ error }} </span>
                                            {% endfor %}
                                          </div>
                                      {% else %}
                                      {{ form1.question_2}}
                                      {% endif %}
                                  </div>
                              </div>
                            </div>
                            <div class="form-row">
                              <div class="col-lg-8">
                                <fieldset class="form-group">
                                <div class="input-field">
                                    {{ form1.question_3.label}}
                                    {% if form1.question_3.errors %}
                                        {{ form1.question_3 }}
                                        <div class="invalid-feedback">
                                          {% for error in form1.question_3.errors %}
                                              <span> {{ error }} </span>
                                          {% endfor %}
                                        </div>
                                    {% else %}
                                    {{ form1.question_3}}
                                    {% endif %}
                                </div>
                            </div>
                          </div>
                            <div class="form-row">
                              <div class="col-lg-8">
                                <div >
                                  {{ form1.submit_change_q (class="submit-btn mt-3 mb-5")}}
                                </div>
                              </div>
                            </div>
                          </form>

                        </div>
                    </div>
                </div>








    </div>
    </div>
</div>

</section>

<!-- Hiding/showiing content on the same div function -->
<script>
jQuery.noConflict(); //prevents jquery from interfering with other scripts
$(document).ready(function() {
    $("#menu li a").on('click', function(e) {
        e.preventDefault()
        var page = $(this).data('page');
        $("#pages .page:not('.hide')").stop().fadeOut('fast', function() {
            $(this).addClass('hide');
            $('#pages .page[data-page="'+page+'"]').fadeIn('slow').removeClass('hide'); //fading animation of the content in div
        });
    });
});
</script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

{% endblock content %}
