{% extends "base.html" %}
{% block content %}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

<style>
	html {
    height: 100%;
    background: linear-gradient(to bottom right, #DF2D8C, #FF8870); background-repeat: no-repeat; background-size: 100% 100%;
	}
	body {
  	min-height: 100%;
		background: linear-gradient(to bottom right, #F75692, 40%, #FF8870); background-repeat: no-repeat; background-size: 100% 100%;
	}
	#searchPage {
		margin-top: 20px;
		margin-bottom: 40px;
		background: rgba(255,255,255,0.5);
		background-position: center;
		width: 75%;
		height: 80%;
		border-top-right-radius: 10px;
		border-top-left-radius: 10px;
		border-bottom-left-radius: 10px;
		border-bottom-right-radius: 10px;
		box-shadow: 5px 5px 22px grey;
	}
	.card {
		background: white;
		width: 95%;
		margin-top: 20px;
	}
	#poster{
		margin-left: 10px;
		margin-top: 20px;
		margin-right: 10px;
		margin-bottom: 10px;
		height:340px;
		width: 260px;
	}

</style>

<!-- search bar -->
<div class="container-fluid p-3">
	<form action="/searchMovies/" method="POST" id="searchForm">
		<div class="input-group col-md-9 mx-md-auto pt-3">
				<input class="form-control py-2 border-right-0 border" name="search" value="{{ search_result }}" type="search" placeholder="Search..." id="searchMovies">
				<span class="input-group-append">
					<button class="btn btn-outline-secondary" type="submit">
						<i class="fa fa-search"></i>
					</button>
				</span>
		</div>
	</form>
</div>

<!-- List of popular movies and their top reviews -->
<div class="container-fluid p-3" id="searchPage">
	{% if not error_message %}
		{% for i in range(number_of_movies) %}
			<div class="row" id="popularReviews">
				{% for j in range(4) %}
					<div class="col-md-3 no-gutters" id="popularMoviePosters">
						<div class="card mx-auto">
							<div class="well text-center">
								<img src={{posters[i]}} width="250" id="poster">
				        <a href="/detailedReview/ID={{IDs[i]}}" id=title><h5>{{ titles[i] }} ({{ years[i] }})</h5></a>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		{% endfor %}
		<br>
	  	{% if not emptySearchBox%}
			<nav aria-label="Pagination">
			  <ul class="pagination pagination-lg justify-content-center">
			  	{% if page == 1 %}
			  		<li class="page-item disabled"><a class="page-link" href="/searchMovies/page={{(page-1)|string}}">Previous</a></li>
			  	{% else %}
			  		<li class="page-item"><a class="page-link" href="/searchMovies/page={{(page-1)|string}}">Previous</a></li>
			  	{% endif%}
		 		<li class="page-item"><a class="page-link" href="/searchMovies/page={{(page+1)|string}}">Next</a></li>
			  </ul>
			</nav>
		{% endif %}
	{% else %}
    	<h3>{{ error_message }}</h3>
	{% endif %}

</div>
{% endblock content %}
